(function(a){jQuery.fn.squeezeGallery=function(c){var b=a.extend({slidesMaxRatio:0.618,sliderEasing:"swing",duration:500,teaser:null,galleryWidth:null,galleryHeight:null},c);return this.each(function(){var d=a(this),f;f=function(){function m(n,c){b.teaser&&("mouseenter"===c&&a(b.teaser,n).stop(!0,!0).fadeIn("slow"),"mouseleave"===c&&a(b.teaser,n).stop(!0,!0).fadeOut("slow"))}var j={},c,g,h=a(".slide",d),f=h.length;g=b.galleryWidth?b.galleryWidth:d.width();c=b.galleryHeight?b.galleryHeight:k;var j=
    a.extend(j,{width:g+"px",height:c+"px",overflow:"hidden",position:"relative"}),e=g/f,l=g*b.slidesMaxRatio,i=(g-l)/(f-1),p={position:"absolute",width:e+"px",overflow:"hidden",height:c+"px"};h.each(function(b){var c=a(this),d={"z-index":b+1,left:b*e+"px"};a.extend(d,p);c.addClass("slide-"+b).css(d)});var q={position:"absolute",display:"none"};b.teaser&&a(b.teaser,d).each(function(){a(this).css(q)});h.stop(!0,!0).mouseenter(function(){slideCurrentIndex=a(this).index();a(this).animate({width:l+"px",left:i*
    slideCurrentIndex+"px"},{queue:!1,duration:b.duration,easing:b.sliderEasing,complete:m(a(this),"mouseenter")}).toggleClass("active");a(this).siblings().each(function(c){left=c<slideCurrentIndex?c*i:l+c*i;a(this).animate({width:i+"px",left:left+"px"},{queue:!1,duration:b.duration,easing:b.sliderEasing})})});h.stop(!0,!0).mouseleave(function(){a(this).animate({width:e+"px",left:e*slideCurrentIndex+"px"},{queue:!1,duration:b.duration,easing:b.sliderEasing,complete:m(a(this),"mouseleave")}).toggleClass("active");
    a(this).siblings().each(function(c){left=c<slideCurrentIndex?c*e:(c+1)*e;a(this).animate({width:e+"px",left:left+"px"},{queue:!1,duration:b.duration,easing:b.sliderEasing})})});d.css(j)};if(d.find("img")){var c=a("img",d).length,k=5E3;a("img",d).each(function(b){var d=a(this);a("<img/>").attr("src",a(d).attr("src")).load(function(){realPicHeight=this.height;realPicHeight<=k&&(k=realPicHeight);b===c-1&&f()})})}else f()})}})(jQuery);